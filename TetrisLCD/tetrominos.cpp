#include <Adafruit_GFX.h>
#include <Adafruit_NeoMatrix.h>
#include <Adafruit_NeoPixel.h>

//create a map to define the tetrominos, the array stores 7 different piece types
//each piece type is an array of 4 states the piece can be rotated
//each rotation is composed of a 2d array that stores each cell of the piece
//each cell is difined by either a 0 to represent empty or a number that represents the piece's color
const PROGMEM uint8_t tetrominos[7][4][4][4] = {
      {    
        { {0,0,0,0}, {0,0,1,0}, {0,0,0,0}, {0,1,0,0} },
        { {1,1,1,1}, {0,0,1,0}, {0,0,0,0}, {0,1,0,0} },
        { {0,0,0,0}, {0,0,1,0}, {1,1,1,1}, {0,1,0,0} },
        { {0,0,0,0}, {0,0,1,0}, {0,0,0,0}, {0,1,0,0} },
      },
      {     
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },
        { {2,0,0,0}, {0,2,2,0}, {0,0,0,0}, {0,2,0,0} },
        { {2,2,2,0}, {0,2,0,0}, {2,2,2,0}, {0,2,0,0} },
        { {0,0,0,0}, {0,2,0,0}, {0,0,2,0}, {2,2,0,0} },
      },
      {       
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },
        { {0,0,3,0}, {0,3,0,0}, {0,0,0,0}, {3,3,0,0} },
        { {3,3,3,0}, {0,3,0,0}, {3,3,3,0}, {0,3,0,0} },
        { {0,0,0,0}, {0,3,3,0}, {3,0,0,0}, {0,3,0,0} },
      },
      {    
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },        
        { {0,4,4,0}, {0,4,4,0}, {0,4,4,0}, {0,4,4,0} }, 
        { {0,4,4,0}, {0,4,4,0}, {0,4,4,0}, {0,4,4,0} },  
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },
      },
      {   
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },      
        { {0,5,5,0}, {0,5,0,0}, {0,0,0,0}, {5,0,0,0} },  
        { {5,5,0,0}, {0,5,5,0}, {0,5,5,0}, {5,5,0,0} }, 
        { {0,0,0,0}, {0,0,5,0}, {5,5,0,0}, {0,5,0,0} }, 
      },
      {         
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },
        { {0,6,0,0}, {0,6,0,0}, {0,0,0,0}, {0,6,0,0} },  
        { {6,6,6,0}, {0,6,6,0}, {6,6,6,0}, {6,6,0,0} },  
        { {0,0,0,0}, {0,6,0,0}, {0,6,0,0}, {0,6,0,0} },  
      },
      {        
        { {0,0,0,0}, {0,0,0,0}, {0,0,0,0}, {0,0,0,0} },
        { {7,7,0,0}, {0,0,7,0}, {0,0,0,0}, {0,7,0,0} },  
        { {0,7,7,0}, {0,7,7,0}, {7,7,0,0}, {7,7,0,0} },  
        { {0,0,0,0}, {0,7,0,0}, {0,7,7,0}, {7,0,0,0} }, 
      }, 

};


//bitmap representation of the Tetris logo
const int8_t PROGMEM logo[13][19] = {
  {1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,1},
  {1 ,3 ,3 ,3 ,5 ,5 ,5 ,7 ,7 ,7 ,9 ,9 ,2 ,2 ,11,13,13,13,1},
  {1 ,2 ,3 ,2 ,5 ,2 ,2 ,2 ,7 ,2 ,9 ,2 ,9 ,2 ,11,13,2 ,2 ,1},
  {1 ,2 ,3 ,2 ,5 ,5 ,2 ,2 ,8 ,2 ,10,10,2 ,2 ,11,2 ,13,2 ,1},
  {1 ,2 ,4 ,2 ,6 ,2 ,2 ,2 ,8 ,2 ,10,2 ,10,2 ,12,2 ,2 ,14,1},
  {1 ,2 ,4 ,2 ,6 ,6 ,6 ,6 ,8 ,2 ,10,2 ,2 ,10,12,14,14,14,1},
  {1 ,1 ,1 ,1 ,1 ,1 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,1 ,1 ,1 ,1 ,1 ,1},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,2 ,2 ,2 ,2 ,2 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
  {0 ,0 ,0 ,0 ,0 ,0 ,1 ,1 ,1 ,1 ,1 ,1 ,1 ,0 ,0 ,0 ,0 ,0 ,0},
};


